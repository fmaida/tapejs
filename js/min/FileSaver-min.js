var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),c=e.webkitRequestFileSystem,f=e.requestFileSystem||c||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},d="application/octet-stream",s=0,l=500,v=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,l)},p=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){u(i)}}},w=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},y=function(t,u,l){l||(t=w(t));var y=this,m=t.type,S=!1,h,R,O=function(){p(y,"writestart progress write writeend".split(" "))},g=function(){if(R&&a&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;R.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),y.readyState=y.DONE,O()},o.readAsDataURL(t),void(y.readyState=y.INIT)}if((S||!h)&&(h=n().createObjectURL(t)),R)R.location.href=h;else{var r=e.open(h,"_blank");void 0==r&&a&&(e.location.href=h)}y.readyState=y.DONE,O(),v(h)},b=function(e){return function(){return y.readyState!==y.DONE?e.apply(this,arguments):void 0}},E={create:!0,exclusive:!1},N;return y.readyState=y.INIT,u||(u="download"),r?(h=n().createObjectURL(t),o.href=h,o.download=u,void setTimeout(function(){i(o),O(),v(h),y.readyState=y.DONE})):(e.chrome&&m&&m!==d&&(N=t.slice||t.webkitSlice,t=N.call(t,0,t.size,d),S=!0),c&&"download"!==u&&(u+=".download"),(m===d||c)&&(R=e),f?(s+=t.size,void f(e.TEMPORARY,s,b(function(e){e.root.getDirectory("saved",E,b(function(e){var n=function(){e.getFile(u,E,b(function(e){e.createWriter(b(function(n){n.onwriteend=function(t){R.location.href=e.toURL(),y.readyState=y.DONE,p(y,"writeend",t),v(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&g()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=y["on"+e]}),n.write(t),y.abort=function(){n.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),g)}),g)};e.getFile(u,{create:!1},b(function(e){e.remove(),n()}),b(function(e){e.code===e.NOT_FOUND_ERR?n():g()}))}),g)}),g)):void g())},m=y.prototype,S=function(e,t,n){return new y(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=w(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,S)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});